
[值得读](https://zhuanlan.zhihu.com/p/27395037)
[详解透彻](https://www.cnblogs.com/zhangshitong/p/6478721.html)



1、对称加密
有流式、分组两种，加密和解密都是使用的同一个密钥。例如：DES、AES-GCM、ChaCha20-Poly1305等
2、非对称加密

加密使用的密钥和解密使用的密钥是不相同的，分别称为：公钥、私钥，公钥和算法都是公开的，私钥是保密的。非对称加密算法性能较低，但是安全性超强，由于其加密特性，非对称加密算法能加密的数据长度也是有限的。

例如：RSA、DSA、ECDSA、 DH、ECDHE

3、哈希算法

将任意长度的信息转换为较短的固定长度的值，通常其长度要比信息小得多，且算法不可逆。

例如：MD5、SHA-1、SHA-2、SHA-256 等

4、数字签名

签名就是在信息的后面再加上一段内容（信息经过hash后的值），可以证明信息没有被修改过。hash值一般都会加密后（也就是签名）再和信息一起发送，以保证这个hash值不被修改。



在第 ② 步时服务器发送了一个SSL证书给客户端，SSL 证书中包含的具体内容有：

	（1）证书的发布机构CA
	（2）证书的有效期
	（3）公钥
	（4）证书所有者
	（5）签名
	
	
	
我们不能直接将服务器的公钥传递给客户端，而是第三方机构使用它的私钥对服务器的公钥进行加密后，再传给客户端。
客户端再使用第三方机构的公钥进行解密。
下图就是我们设计的第一版“数字证书”，证书中只有服务器交给第三方机构的公钥，而且这个公钥被第三方机构的私钥加密了：



总体来说：

	1 ，为了保密，使用对称加密对传输内容进行加密。
	2 对称加密需要传输秘钥，为了防止秘钥被窃取。先使用非对称加密进行对秘钥进行加密
	3 非对称加密中，服务器有私钥，客户端有公钥。 但这种情况，只能保证客户端到服务器的加密是安全的。应为不同客户端的公钥都能解密处私钥加密的内容.
		并且让每个客户端的每个浏览器默认保存所有网站的公钥是不现实的。
	4 将服务端公钥传送给客户端的过程，需要借助第三方机构。
	5 第三方机构会给服务端颁发证书。
	6 证书的生成： 证书机构用自己的私钥对服务端公钥加密，生成证书。客户端用证书机构的公钥对证书进行解密，可以获取服务端的公钥。
		这样就能获取服务端的公钥。也避免了客户端需要保存所有服务端证书的问题。
	7 如果只对公钥进行加密生成证书，那么假如两个服务端，一个真，一个假 ，都向第三方证书证书颁发机构，请求并颁发了证书。
		 那么假的服务端，可以截取客户端的请求，客户端也无法分辨其真伪。
	8 使用数字签名对证书进行签名。证书中需要包含更多的，不止服务端公钥信息。第三方机构对办法的证书进行数字签名，生成一个“证书编号”。证书编号唯一。
	9 客户端收到证书后，使用其中的证书编号，去第三发验证机构去验证，该证书该证书是否有效，并验证证书的所有者和服务端是否是同一人，验证成功，则说明证书有效。




但是第三方机构的公钥怎么跑到了客户端的机器中呢？世界上这么多机器。

其实呢，现实中，浏览器和操作系统都会维护一个权威的第三方机构列表（包括它们的公钥）。因为客户端接收到的证书中会写有颁发机构，客户端就根据这个颁发机构的值在本地找相应的公钥


